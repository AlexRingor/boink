{"version":3,"file":"static/js/78.75cdcbe5.chunk.js","mappings":"2OAEe,SAASA,EAAmBC,GAEvC,OACI,iBAAKC,UAAU,8BAAf,WACI,iBAAKA,UAAU,mCAAf,UACyB,IAApBD,EAAME,WAAkB,gBAAKC,IAAI,aAAaC,IAAI,aAAcC,MAAM,SAAU,KAC5D,IAApBL,EAAME,WAAkB,gBAAKC,IAAI,cAAcC,IAAI,aAAcC,MAAM,SAAU,KAC7D,IAApBL,EAAME,WAAkB,gBAAKC,IAAI,iBAAiBC,IAAI,gBAAiBC,MAAM,SAAU,SAE5F,iBAAKJ,UAAU,sCAAf,WAEI,wBAAKD,EAAMM,SACX,uBAAIN,EAAMO,WAEd,gBAAKN,UAAU,oCAAf,UACA,gBAAKA,UAAU,cAAcE,IAAI,cAAcE,MAAM,OAAOG,QAAS,kBAAMR,EAAMS,YAAYT,EAAMU,YCEhG,SAASC,IACpB,OAA0CC,EAAAA,EAAAA,UAAS,IAAnD,eAAOC,EAAP,KAAsBC,EAAtB,KACA,GAA0CF,EAAAA,EAAAA,UAAS,WAAnD,eAAOG,EAAP,KAAsBC,EAAtB,KAEMC,EAAkB,yCAAI,oHAGHC,IAAAA,IAAA,UApBL,mEAiBQ,OAKxB,IAFMC,EAHkB,OAKfC,EAAI,EAAGA,EAAID,EAAOE,KAAKC,EAAEC,OAAQH,IACtCD,EAAOE,KAAKC,EAAEF,GAAGV,GAAKU,EACtBD,EAAOE,KAAKC,EAAEF,GAAGlB,UAAYsB,KAAKC,MAAsB,EAAhBD,KAAKE,UAKjDZ,EAAiBK,EAAOE,KAAKC,EAAEK,OAAO,EAAG,IAAIC,KAAI,SAACC,GAC9C,OAAOA,MAba,gDAiBxBb,EAAiB,KAAMc,SAjBC,yDAAJ,sDAsBxBC,EAAAA,EAAAA,YAAU,WACNd,MACD,IAEH,IAAMR,EAAc,SAACC,GACjBI,EAAiBD,EAAcmB,QAAO,SAACC,GAAD,OAAiBA,EAAYvB,KAAOA,OAG9E,OACI,iBAAKT,UAAU,yBAAf,UACKc,EAAce,QAAU,+BAAiC,KAChC,IAAzBjB,EAAcU,QAAe,iDAAgC,KAC7DV,EAAce,KAAI,SAAC5B,EAAOkC,GAAR,OACf,SAACnC,EAAD,CAEIO,MAAON,EAAMM,MACbC,KAAMP,EAAMmC,YACZzB,GAAIV,EAAMU,GACVR,UAAWF,EAAME,UACjBO,YAAaA,GALRyB,SAlDzBhB,IAAAA,aAAAA,QAAAA,KACE,SAAAkB,GAEE,OADAA,EAAOC,QAAQC,cAAf,iBAJgB,oIAKTF,KAET,SAACG,GACC,OAAOC,QAAQC,OAAOF,O","sources":["Notifications/SingleNotification.js","Notifications.js"],"sourcesContent":["import './Single-notification.css'\n\nexport default function SingleNotification(notif) {\n\n    return (\n        <div className=\"singleNotification__wrapper\">\n            <div className=\"singleNotification__wrapper-icon\">\n                {notif.orderType === 0 ? <img src='./star.svg' alt=\"start icon\"  width=\"20px\"/>: null}\n                {notif.orderType === 1 ? <img src='./check.svg' alt=\"check icon\"  width=\"20px\"/>: null}\n                {notif.orderType === 2 ? <img src='./discount.svg' alt=\"discount icon\"  width=\"20px\"/>: null}\n            </div>\n            <div className=\"singleNotification__wrapper-content\">\n\n                <h1>{notif.title}</h1>\n                <p>{notif.desc}</p>\n            </div>\n            <div className=\"singleNotification__wrapper-close\">\n            <img className=\"close-notif\" src=\"./close.svg\" width=\"14px\" onClick={() => notif.removeNotif(notif.id)}/>\n            </div>\n        </div>\n    )\n}","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport './styles/Recommended.css'\nimport './styles/Notifications.css'\nimport SingleNotification from './Notifications/SingleNotification'\n\nconst notificationURL = \"https://sw-coding-challenge.herokuapp.com/api/v1/notifications\"\nconst accessToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkNvZGVyIn0.B1QyKzKxzpxay1__A8B85ij32rqFoOIAFGDqBmqXhvs\";\n\naxios.interceptors.request.use(\n  config => {\n    config.headers.authorization = `Bearer ${accessToken}`;\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\nexport default function Notification() {\n    const [notifications, setNotifications] = useState([]);\n    const [responseError, setResponseError] = useState('default')\n    \n    const fetchNotifications = (async () => {\n    // fetch and set products\n    try {\n        const result = await axios.get(`${notificationURL}`);\n        // add an ID to each object for key mapping and random orderType for icon referencing.\n        for (var i = 0; i < result.data.d.length; i++) {\n            result.data.d[i].id = i;\n            result.data.d[i].orderType = Math.floor(Math.random() * 3);;\n            // console.log(result.data.d[i])\n        }\n        // console.log(result.data.d)\n        // limiting notification listed to 10\n        setNotifications(result.data.d.splice(0, 10).map((product) => {\n            return product\n          }))\n        // setNotifications(result.data.d)\n    } catch (error) {\n        setResponseError(error.message);\n    }\n    });\n\n\n    useEffect(() => {\n        fetchNotifications();\n    }, []);\n\n    const removeNotif = (id) =>  {\n        setNotifications(notifications.filter((singleNotif) => singleNotif.id !== id )\n    )}\n\n    return (\n        <div className=\"notifications__wrapper\">\n            {responseError.message ? '<h1>Unable to fetch data<h1>' : null}\n            {notifications.length === 0 ? <h1>No notifications :-p</h1> : null}\n            {notifications.map((notif, index) => (\n                <SingleNotification \n                    key={index} \n                    title={notif.title}\n                    desc={notif.description} \n                    id={notif.id}\n                    orderType={notif.orderType}\n                    removeNotif={removeNotif}\n                />\n            ))}\n        </div>\n    );\n}"],"names":["SingleNotification","notif","className","orderType","src","alt","width","title","desc","onClick","removeNotif","id","Notification","useState","notifications","setNotifications","responseError","setResponseError","fetchNotifications","axios","result","i","data","d","length","Math","floor","random","splice","map","product","message","useEffect","filter","singleNotif","index","description","config","headers","authorization","error","Promise","reject"],"sourceRoot":""}